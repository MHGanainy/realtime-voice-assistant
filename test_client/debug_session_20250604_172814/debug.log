[17:28:14.153] [DEVICES] Found 3 input devices
[17:28:15.109] [MAIN] Starting application
[17:28:15.110] [SESSION] Requesting session from server
[17:28:15.193] [SESSION] Requesting new session ID
[17:28:15.195] [SESSION] Got session ID: e1241a20-5cd2-4a61-b89e-1a82425bb937
[17:28:15.196] [CONNECTION] Attempting WebSocket connection to ws://localhost:8000/ws/audio?session=e1241a20-5cd2-4a61-b89e-1a82425bb937
[17:28:15.196] [WEBSOCKET_PARAMS] Connection parameters
    Data: {'url': 'ws://localhost:8000/ws/audio?session=e1241a20-5cd2-4a61-b89e-1a82425bb937', 'max_size': 100000000, 'compression': None}
[17:28:15.252] [CONNECTION] WebSocket connected
    Data: {'compression': 'None', 'state': '1', 'local_address': "('127.0.0.1', 56148)", 'remote_address': "('127.0.0.1', 8000)"}
[17:28:15.252] [FLOW] === AUDIO FLOW STARTING ===
[17:28:15.252] [AUDIO_INIT] Preparing to open audio input stream
[17:28:15.320] [AUDIO] Opened input stream
    Data: {'device_index': 3, 'format': 'pyaudio.paInt16', 'channels': 1, 'rate': 16000, 'chunk_size': 512, 'callback_registered': True}
[17:28:15.321] [FLOW] Starting recording flag
[17:28:15.321] [AUDIO_START] Starting audio stream
[17:28:15.321] [AUDIO_STARTED] Audio stream is now active
[17:28:15.321] [TASKS] Creating async tasks
[17:28:15.321] [TASK_CREATE] Creating send_audio task
[17:28:15.321] [TASK_CREATE] Creating receive_responses task
[17:28:15.321] [TASKS] Both tasks created and running
[17:28:15.321] [INPUT] Waiting for user to press Enter
[17:28:15.321] [THREAD] Enter key listener thread started
[17:28:15.322] [MAIN_LOOP] Entering main wait loop
[17:28:15.322] [SEND] Started send_audio task
[17:28:15.322] [FLOW] SEND TASK: Waiting for audio from queue...
[17:28:15.322] [QUEUE_STATE] Queue has 0 items
[17:28:15.363] [CALLBACK] Audio callback #1
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:28:15.363] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:28:15.364] [AUDIO_IN] Captured chunk 0
    Data: {'label': 'input', 'size_bytes': 1024, 'duration_ms': 32, 'sample_count': 512, 'max_value': 59, 'min_value': -57, 'avg_value': 10, 'is_silence': True, 'format': 'PCM'}
[17:28:15.364] [FLOW] Got audio from queue: 1024 bytes
[17:28:15.364] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.364] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:28:15.364] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.364] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1058, 'overhead_bytes': 34, 'time_ms': '0.00', 'compression_ratio': '1.03'}
[17:28:15.364] [PROTOBUF_HEX] First message hex dump
    Data: {'first_50_bytes': '129f0812154f7574707574417564696f5261774672616d6523301a80080a00d5ff02002000c7ffe0fff6ffd8ffceffe2ffc9', 'last_10_bytes': 'fffcfffcff20807d2801'}
[17:28:15.364] [WEBSOCKET_SEND] Sending 1058 bytes via WebSocket
[17:28:15.364] [WEBSOCKET_SENT] Successfully sent chunk 0
[17:28:15.395] [CALLBACK] Audio callback #2
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:28:15.395] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:28:15.395] [FLOW] Got audio from queue: 1024 bytes
[17:28:15.395] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.395] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:28:15.395] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.396] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:15.396] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.396] [WEBSOCKET_SENT] Successfully sent chunk 1
[17:28:15.427] [CALLBACK] Audio callback #3
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:28:15.427] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:28:15.427] [FLOW] Got audio from queue: 1024 bytes
[17:28:15.428] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.428] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:28:15.428] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.428] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:15.428] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.428] [WEBSOCKET_SENT] Successfully sent chunk 2
[17:28:15.459] [CALLBACK] Audio callback #4
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:28:15.459] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:28:15.459] [FLOW] Got audio from queue: 1024 bytes
[17:28:15.459] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.460] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:28:15.460] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.460] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:15.460] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.460] [WEBSOCKET_SENT] Successfully sent chunk 3
[17:28:15.491] [CALLBACK] Audio callback #5
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:28:15.491] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:28:15.492] [FLOW] Got audio from queue: 1024 bytes
[17:28:15.492] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.492] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:28:15.492] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.492] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:15.492] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.493] [WEBSOCKET_SENT] Successfully sent chunk 4
[17:28:15.523] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.523] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.524] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.524] [WEBSOCKET_SENT] Successfully sent chunk 5
[17:28:15.555] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.556] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.556] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.556] [WEBSOCKET_SENT] Successfully sent chunk 6
[17:28:15.587] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.588] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.588] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.588] [WEBSOCKET_SENT] Successfully sent chunk 7
[17:28:15.619] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.619] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.620] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.620] [WEBSOCKET_SENT] Successfully sent chunk 8
[17:28:15.651] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.651] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.651] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:28:15.652] [WEBSOCKET_SENT] Successfully sent chunk 9
[17:28:15.652] [QUEUE_STATE] Queue has 0 items
[17:28:15.683] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.684] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.684] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.684] [WEBSOCKET_SENT] Successfully sent chunk 10
[17:28:15.715] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.716] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.716] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.717] [WEBSOCKET_SENT] Successfully sent chunk 11
[17:28:15.747] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.748] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.748] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.748] [WEBSOCKET_SENT] Successfully sent chunk 12
[17:28:15.779] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.779] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.780] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.780] [WEBSOCKET_SENT] Successfully sent chunk 13
[17:28:15.811] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.812] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.812] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.813] [WEBSOCKET_SENT] Successfully sent chunk 14
[17:28:15.843] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.844] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.844] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.845] [WEBSOCKET_SENT] Successfully sent chunk 15
[17:28:15.875] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.875] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.875] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.875] [WEBSOCKET_SENT] Successfully sent chunk 16
[17:28:15.907] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.907] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.907] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.907] [WEBSOCKET_SENT] Successfully sent chunk 17
[17:28:15.939] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.939] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.939] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.939] [WEBSOCKET_SENT] Successfully sent chunk 18
[17:28:15.971] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:15.972] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:15.972] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:15.972] [WEBSOCKET_SENT] Successfully sent chunk 19
[17:28:15.973] [QUEUE_STATE] Queue has 0 items
[17:28:16.003] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.003] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.004] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:16.005] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.005] [WEBSOCKET_SENT] Successfully sent chunk 20
[17:28:16.035] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.036] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.036] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.037] [WEBSOCKET_SENT] Successfully sent chunk 21
[17:28:16.067] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.068] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.068] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.069] [WEBSOCKET_SENT] Successfully sent chunk 22
[17:28:16.099] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.100] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.100] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.100] [WEBSOCKET_SENT] Successfully sent chunk 23
[17:28:16.131] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.132] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.132] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.133] [WEBSOCKET_SENT] Successfully sent chunk 24
[17:28:16.163] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.163] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.164] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.164] [WEBSOCKET_SENT] Successfully sent chunk 25
[17:28:16.195] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.195] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.196] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.196] [WEBSOCKET_SENT] Successfully sent chunk 26
[17:28:16.227] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.227] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.228] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.228] [WEBSOCKET_SENT] Successfully sent chunk 27
[17:28:16.259] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.259] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.260] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.260] [WEBSOCKET_SENT] Successfully sent chunk 28
[17:28:16.291] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.291] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.292] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.292] [WEBSOCKET_SENT] Successfully sent chunk 29
[17:28:16.293] [QUEUE_STATE] Queue has 0 items
[17:28:16.323] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.323] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.324] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.324] [WEBSOCKET_SENT] Successfully sent chunk 30
[17:28:16.355] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.355] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.355] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.355] [WEBSOCKET_SENT] Successfully sent chunk 31
[17:28:16.387] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.387] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.387] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.387] [WEBSOCKET_SENT] Successfully sent chunk 32
[17:28:16.419] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.419] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.419] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.419] [WEBSOCKET_SENT] Successfully sent chunk 33
[17:28:16.451] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.451] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.451] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.452] [WEBSOCKET_SENT] Successfully sent chunk 34
[17:28:16.483] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.484] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.484] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.484] [WEBSOCKET_SENT] Successfully sent chunk 35
[17:28:16.515] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.515] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.516] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.516] [WEBSOCKET_SENT] Successfully sent chunk 36
[17:28:16.547] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.547] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.548] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.548] [WEBSOCKET_SENT] Successfully sent chunk 37
[17:28:16.579] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.579] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.580] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.580] [WEBSOCKET_SENT] Successfully sent chunk 38
[17:28:16.611] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.611] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.612] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.612] [WEBSOCKET_SENT] Successfully sent chunk 39
[17:28:16.612] [QUEUE_STATE] Queue has 0 items
[17:28:16.643] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.643] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.644] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:16.644] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.645] [WEBSOCKET_SENT] Successfully sent chunk 40
[17:28:16.675] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.675] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.676] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.676] [WEBSOCKET_SENT] Successfully sent chunk 41
[17:28:16.707] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.707] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.708] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.708] [WEBSOCKET_SENT] Successfully sent chunk 42
[17:28:16.739] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.739] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.740] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.740] [WEBSOCKET_SENT] Successfully sent chunk 43
[17:28:16.771] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.771] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.772] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.772] [WEBSOCKET_SENT] Successfully sent chunk 44
[17:28:16.803] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.803] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.804] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.804] [WEBSOCKET_SENT] Successfully sent chunk 45
[17:28:16.835] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.835] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.836] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.836] [WEBSOCKET_SENT] Successfully sent chunk 46
[17:28:16.867] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.867] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.868] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.868] [WEBSOCKET_SENT] Successfully sent chunk 47
[17:28:16.899] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.899] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.900] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.900] [WEBSOCKET_SENT] Successfully sent chunk 48
[17:28:16.931] [CALLBACK] Audio callback #50
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:28:16.931] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.932] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.932] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.932] [WEBSOCKET_SENT] Successfully sent chunk 49
[17:28:16.932] [QUEUE_STATE] Queue has 0 items
[17:28:16.963] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.963] [AUDIO_IN] Captured chunk 50
    Data: {'label': 'input', 'size_bytes': 1024, 'duration_ms': 32, 'sample_count': 512, 'max_value': 4, 'min_value': -109, 'avg_value': -56, 'is_silence': True, 'format': 'PCM'}
[17:28:16.963] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.963] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.963] [WEBSOCKET_SENT] Successfully sent chunk 50
[17:28:16.995] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:16.995] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:16.995] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:16.995] [WEBSOCKET_SENT] Successfully sent chunk 51
[17:28:17.027] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.027] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.028] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.028] [WEBSOCKET_SENT] Successfully sent chunk 52
[17:28:17.059] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.060] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.060] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.060] [WEBSOCKET_SENT] Successfully sent chunk 53
[17:28:17.091] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.091] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.092] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.092] [WEBSOCKET_SENT] Successfully sent chunk 54
[17:28:17.123] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.123] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.124] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.124] [WEBSOCKET_SENT] Successfully sent chunk 55
[17:28:17.155] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.155] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.156] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.156] [WEBSOCKET_SENT] Successfully sent chunk 56
[17:28:17.187] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.187] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.188] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.188] [WEBSOCKET_SENT] Successfully sent chunk 57
[17:28:17.219] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.219] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.220] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.220] [WEBSOCKET_SENT] Successfully sent chunk 58
[17:28:17.251] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.252] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.252] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.253] [WEBSOCKET_SENT] Successfully sent chunk 59
[17:28:17.253] [QUEUE_STATE] Queue has 0 items
[17:28:17.283] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.283] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.284] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:28:17.284] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.284] [WEBSOCKET_SENT] Successfully sent chunk 60
[17:28:17.315] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.315] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.316] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.316] [WEBSOCKET_SENT] Successfully sent chunk 61
[17:28:17.347] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.347] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.347] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.347] [WEBSOCKET_SENT] Successfully sent chunk 62
[17:28:17.379] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.379] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.379] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.379] [WEBSOCKET_SENT] Successfully sent chunk 63
[17:28:17.411] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.411] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.412] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.412] [WEBSOCKET_SENT] Successfully sent chunk 64
[17:28:17.443] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.443] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.444] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.444] [WEBSOCKET_SENT] Successfully sent chunk 65
[17:28:17.475] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.475] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.476] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.476] [WEBSOCKET_SENT] Successfully sent chunk 66
[17:28:17.507] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.507] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.508] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.508] [WEBSOCKET_SENT] Successfully sent chunk 67
[17:28:17.539] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.539] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.540] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.540] [WEBSOCKET_SENT] Successfully sent chunk 68
[17:28:17.571] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.572] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.572] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.573] [WEBSOCKET_SENT] Successfully sent chunk 69
[17:28:17.573] [QUEUE_STATE] Queue has 0 items
[17:28:17.603] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.603] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.604] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.604] [WEBSOCKET_SENT] Successfully sent chunk 70
[17:28:17.635] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.635] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.636] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.636] [WEBSOCKET_SENT] Successfully sent chunk 71
[17:28:17.667] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.667] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.668] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.668] [WEBSOCKET_SENT] Successfully sent chunk 72
[17:28:17.699] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.699] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.700] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.700] [WEBSOCKET_SENT] Successfully sent chunk 73
[17:28:17.731] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.731] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.732] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.732] [WEBSOCKET_SENT] Successfully sent chunk 74
[17:28:17.763] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.763] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.764] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.764] [WEBSOCKET_SENT] Successfully sent chunk 75
[17:28:17.795] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:28:17.795] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:28:17.796] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:28:17.796] [WEBSOCKET_SENT] Successfully sent chunk 76
[17:28:17.809] [INPUT] Enter pressed by user
[17:28:17.810] [USER] Stop requested
[17:28:17.901] [QUEUE_EMPTY] No audio in queue, waiting...
[17:28:17.902] [SEND] Ended send_audio task
    Data: {'total_chunks': 77, 'total_bytes': 78848}
[17:28:17.902] [RECEIVE] Started receive_responses task
[17:28:17.903] [FLOW] RECEIVE TASK: Waiting for server messages...
[17:28:17.903] [WEBSOCKET_RECV] Waiting for message #1
[17:28:17.903] [SHUTDOWN] Beginning shutdown sequence
[17:28:17.904] [AUDIO_STOP] Stopping audio input stream
[17:28:18.022] [AUDIO] Input stream closed
[17:28:18.022] [WAIT] Waiting 3 seconds for final responses
[17:28:21.024] [PLAYBACK_STOP] Setting stop flag for playback thread
[17:28:21.025] [TASKS_CANCEL] Cancelling async tasks
[17:28:21.025] [TASKS_CANCELLED] All tasks cancelled
[17:28:21.026] [COMPLETE] Session ended successfully
[17:28:21.027] [CLEANUP] Starting final cleanup
[17:28:21.027] [CLEANUP] Audio terminated
