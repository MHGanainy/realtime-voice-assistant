[17:18:50.722] [DEVICES] Found 3 input devices
[17:18:54.524] [MAIN] Starting application
[17:18:54.524] [SESSION] Requesting session from server
[17:18:54.614] [SESSION] Requesting new session ID
[17:18:54.618] [SESSION] Got session ID: 1795d711-1270-4c3a-8d4c-0dca85106e90
[17:18:54.618] [CONNECTION] Attempting WebSocket connection to ws://localhost:8000/ws/audio?session=1795d711-1270-4c3a-8d4c-0dca85106e90
[17:18:54.618] [WEBSOCKET_PARAMS] Connection parameters
    Data: {'url': 'ws://localhost:8000/ws/audio?session=1795d711-1270-4c3a-8d4c-0dca85106e90', 'max_size': 100000000, 'compression': None}
[17:18:54.654] [CONNECTION] WebSocket connected
    Data: {'compression': 'None', 'state': '1', 'local_address': "('127.0.0.1', 56085)", 'remote_address': "('127.0.0.1', 8000)"}
[17:18:54.655] [FLOW] === AUDIO FLOW STARTING ===
[17:18:54.655] [AUDIO_INIT] Preparing to open audio input stream
[17:18:54.720] [AUDIO] Opened input stream
    Data: {'device_index': 3, 'format': 'pyaudio.paInt16', 'channels': 1, 'rate': 16000, 'chunk_size': 512, 'callback_registered': True}
[17:18:54.720] [FLOW] Starting recording flag
[17:18:54.720] [AUDIO_START] Starting audio stream
[17:18:54.720] [AUDIO_STARTED] Audio stream is now active
[17:18:54.720] [TASKS] Creating async tasks
[17:18:54.720] [TASK_CREATE] Creating send_audio task
[17:18:54.720] [TASK_CREATE] Creating receive_responses task
[17:18:54.721] [TASKS] Both tasks created and running
[17:18:54.721] [INPUT] Waiting for user to press Enter
[17:18:54.721] [THREAD] Enter key listener thread started
[17:18:54.721] [MAIN_LOOP] Entering main wait loop
[17:18:54.721] [SEND] Started send_audio task
[17:18:54.721] [FLOW] SEND TASK: Waiting for audio from queue...
[17:18:54.721] [QUEUE_STATE] Queue has 0 items
[17:18:54.763] [CALLBACK] Audio callback #1
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:18:54.763] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:18:54.763] [AUDIO_IN] Captured chunk 0
    Data: {'label': 'input', 'size_bytes': 1024, 'duration_ms': 32, 'sample_count': 512, 'max_value': 126, 'min_value': -225, 'avg_value': -4, 'is_silence': True, 'format': 'PCM'}
[17:18:54.763] [FLOW] Got audio from queue: 1024 bytes
[17:18:54.763] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.764] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:18:54.764] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.764] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1058, 'overhead_bytes': 34, 'time_ms': '0.00', 'compression_ratio': '1.03'}
[17:18:54.764] [PROTOBUF_HEX] First message hex dump
    Data: {'first_50_bytes': '129f0812154f7574707574417564696f5261774672616d6523301a8008f7ff3500edff9bfff9ff150068ff0600f5ff1fff4e', 'last_10_bytes': 'ffefffefff20807d2801'}
[17:18:54.764] [WEBSOCKET_SEND] Sending 1058 bytes via WebSocket
[17:18:54.764] [WEBSOCKET_SENT] Successfully sent chunk 0
[17:18:54.795] [CALLBACK] Audio callback #2
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:18:54.795] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:18:54.795] [FLOW] Got audio from queue: 1024 bytes
[17:18:54.795] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.795] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:18:54.795] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.795] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:54.796] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.796] [WEBSOCKET_SENT] Successfully sent chunk 1
[17:18:54.827] [CALLBACK] Audio callback #3
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:18:54.827] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:18:54.827] [FLOW] Got audio from queue: 1024 bytes
[17:18:54.828] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.828] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:18:54.828] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.828] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:54.828] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.828] [WEBSOCKET_SENT] Successfully sent chunk 2
[17:18:54.859] [CALLBACK] Audio callback #4
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:18:54.859] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:18:54.859] [FLOW] Got audio from queue: 1024 bytes
[17:18:54.859] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.859] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:18:54.859] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.859] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:54.860] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.860] [WEBSOCKET_SENT] Successfully sent chunk 3
[17:18:54.891] [CALLBACK] Audio callback #5
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:18:54.891] [QUEUE] Adding to queue
    Data: {'current_queue_size': 0, 'data_size': 1024}
[17:18:54.892] [FLOW] Got audio from queue: 1024 bytes
[17:18:54.892] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.892] [FRAME_DETAILS] Frame created
    Data: {'type': 'OutputAudioRawFrame', 'has_audio': True, 'audio_len': 1024, 'sample_rate': 16000, 'num_channels': 1}
[17:18:54.892] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.892] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1060, 'overhead_bytes': 36, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:54.892] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.892] [WEBSOCKET_SENT] Successfully sent chunk 4
[17:18:54.923] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.923] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.924] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.924] [WEBSOCKET_SENT] Successfully sent chunk 5
[17:18:54.955] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.955] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.956] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.956] [WEBSOCKET_SENT] Successfully sent chunk 6
[17:18:54.987] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:54.988] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:54.988] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:54.988] [WEBSOCKET_SENT] Successfully sent chunk 7
[17:18:55.019] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.019] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.020] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:55.020] [WEBSOCKET_SENT] Successfully sent chunk 8
[17:18:55.051] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.051] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.051] [WEBSOCKET_SEND] Sending 1060 bytes via WebSocket
[17:18:55.051] [WEBSOCKET_SENT] Successfully sent chunk 9
[17:18:55.052] [QUEUE_STATE] Queue has 0 items
[17:18:55.083] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.083] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.084] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.084] [WEBSOCKET_SENT] Successfully sent chunk 10
[17:18:55.115] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.115] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.116] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.116] [WEBSOCKET_SENT] Successfully sent chunk 11
[17:18:55.147] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.147] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.148] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.148] [WEBSOCKET_SENT] Successfully sent chunk 12
[17:18:55.179] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.180] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.180] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.181] [WEBSOCKET_SENT] Successfully sent chunk 13
[17:18:55.211] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.212] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.212] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.212] [WEBSOCKET_SENT] Successfully sent chunk 14
[17:18:55.243] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.244] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.245] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.245] [WEBSOCKET_SENT] Successfully sent chunk 15
[17:18:55.275] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.276] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.276] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.277] [WEBSOCKET_SENT] Successfully sent chunk 16
[17:18:55.307] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.307] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.308] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.308] [WEBSOCKET_SENT] Successfully sent chunk 17
[17:18:55.339] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.340] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.340] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.341] [WEBSOCKET_SENT] Successfully sent chunk 18
[17:18:55.371] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.372] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.372] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.373] [WEBSOCKET_SENT] Successfully sent chunk 19
[17:18:55.373] [QUEUE_STATE] Queue has 0 items
[17:18:55.403] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.403] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.404] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:55.404] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.404] [WEBSOCKET_SENT] Successfully sent chunk 20
[17:18:55.435] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.436] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.436] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.437] [WEBSOCKET_SENT] Successfully sent chunk 21
[17:18:55.467] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.468] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.469] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.469] [WEBSOCKET_SENT] Successfully sent chunk 22
[17:18:55.499] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.500] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.500] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.501] [WEBSOCKET_SENT] Successfully sent chunk 23
[17:18:55.531] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.532] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.533] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.533] [WEBSOCKET_SENT] Successfully sent chunk 24
[17:18:55.563] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.564] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.564] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.565] [WEBSOCKET_SENT] Successfully sent chunk 25
[17:18:55.595] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.595] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.596] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.596] [WEBSOCKET_SENT] Successfully sent chunk 26
[17:18:55.627] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.627] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.628] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.628] [WEBSOCKET_SENT] Successfully sent chunk 27
[17:18:55.659] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.659] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.660] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.660] [WEBSOCKET_SENT] Successfully sent chunk 28
[17:18:55.691] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.691] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.692] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.692] [WEBSOCKET_SENT] Successfully sent chunk 29
[17:18:55.693] [QUEUE_STATE] Queue has 0 items
[17:18:55.723] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.723] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.724] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.724] [WEBSOCKET_SENT] Successfully sent chunk 30
[17:18:55.755] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.756] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.756] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.756] [WEBSOCKET_SENT] Successfully sent chunk 31
[17:18:55.787] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.788] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.788] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.789] [WEBSOCKET_SENT] Successfully sent chunk 32
[17:18:55.819] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.819] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.820] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.820] [WEBSOCKET_SENT] Successfully sent chunk 33
[17:18:55.851] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.852] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.852] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.852] [WEBSOCKET_SENT] Successfully sent chunk 34
[17:18:55.883] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.884] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.884] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.885] [WEBSOCKET_SENT] Successfully sent chunk 35
[17:18:55.915] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.916] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.916] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.916] [WEBSOCKET_SENT] Successfully sent chunk 36
[17:18:55.947] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.947] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.948] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.948] [WEBSOCKET_SENT] Successfully sent chunk 37
[17:18:55.979] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:55.979] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:55.980] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:55.980] [WEBSOCKET_SENT] Successfully sent chunk 38
[17:18:56.011] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.012] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.012] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.012] [WEBSOCKET_SENT] Successfully sent chunk 39
[17:18:56.013] [QUEUE_STATE] Queue has 0 items
[17:18:56.043] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.044] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.044] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:56.045] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.045] [WEBSOCKET_SENT] Successfully sent chunk 40
[17:18:56.075] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.075] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.076] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.076] [WEBSOCKET_SENT] Successfully sent chunk 41
[17:18:56.107] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.107] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.108] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.108] [WEBSOCKET_SENT] Successfully sent chunk 42
[17:18:56.139] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.139] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.139] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.140] [WEBSOCKET_SENT] Successfully sent chunk 43
[17:18:56.171] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.172] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.172] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.172] [WEBSOCKET_SENT] Successfully sent chunk 44
[17:18:56.203] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.203] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.204] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.204] [WEBSOCKET_SENT] Successfully sent chunk 45
[17:18:56.235] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.235] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.236] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.236] [WEBSOCKET_SENT] Successfully sent chunk 46
[17:18:56.267] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.267] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.268] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.268] [WEBSOCKET_SENT] Successfully sent chunk 47
[17:18:56.299] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.299] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.300] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.300] [WEBSOCKET_SENT] Successfully sent chunk 48
[17:18:56.331] [CALLBACK] Audio callback #50
    Data: {'frame_count': 512, 'status': 0, 'data_size': 1024, 'is_recording': True}
[17:18:56.332] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.332] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.332] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.333] [WEBSOCKET_SENT] Successfully sent chunk 49
[17:18:56.333] [QUEUE_STATE] Queue has 0 items
[17:18:56.363] [AUDIO_IN] Captured chunk 50
    Data: {'label': 'input', 'size_bytes': 1024, 'duration_ms': 32, 'sample_count': 512, 'max_value': -629, 'min_value': -1540, 'avg_value': -1239, 'is_silence': False, 'format': 'PCM'}
[17:18:56.363] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.363] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.364] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.364] [WEBSOCKET_SENT] Successfully sent chunk 50
[17:18:56.395] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.395] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.395] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.396] [WEBSOCKET_SENT] Successfully sent chunk 51
[17:18:56.427] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.428] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.428] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.428] [WEBSOCKET_SENT] Successfully sent chunk 52
[17:18:56.459] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.459] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.460] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.460] [WEBSOCKET_SENT] Successfully sent chunk 53
[17:18:56.491] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.491] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.492] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.492] [WEBSOCKET_SENT] Successfully sent chunk 54
[17:18:56.523] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.524] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.524] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.525] [WEBSOCKET_SENT] Successfully sent chunk 55
[17:18:56.555] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.555] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.556] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.556] [WEBSOCKET_SENT] Successfully sent chunk 56
[17:18:56.587] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.587] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.588] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.588] [WEBSOCKET_SENT] Successfully sent chunk 57
[17:18:56.619] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.619] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.620] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.620] [WEBSOCKET_SENT] Successfully sent chunk 58
[17:18:56.651] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.651] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.652] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.652] [WEBSOCKET_SENT] Successfully sent chunk 59
[17:18:56.652] [QUEUE_STATE] Queue has 0 items
[17:18:56.683] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.683] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.684] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:56.684] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.685] [WEBSOCKET_SENT] Successfully sent chunk 60
[17:18:56.715] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.715] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.716] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.716] [WEBSOCKET_SENT] Successfully sent chunk 61
[17:18:56.747] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.747] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.748] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.748] [WEBSOCKET_SENT] Successfully sent chunk 62
[17:18:56.779] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.779] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.780] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.780] [WEBSOCKET_SENT] Successfully sent chunk 63
[17:18:56.811] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.812] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.812] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.812] [WEBSOCKET_SENT] Successfully sent chunk 64
[17:18:56.843] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.844] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.844] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.844] [WEBSOCKET_SENT] Successfully sent chunk 65
[17:18:56.875] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.875] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.876] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.876] [WEBSOCKET_SENT] Successfully sent chunk 66
[17:18:56.907] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.908] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.908] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.908] [WEBSOCKET_SENT] Successfully sent chunk 67
[17:18:56.939] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.940] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.940] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.941] [WEBSOCKET_SENT] Successfully sent chunk 68
[17:18:56.971] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:56.972] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:56.972] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:56.973] [WEBSOCKET_SENT] Successfully sent chunk 69
[17:18:56.973] [QUEUE_STATE] Queue has 0 items
[17:18:57.003] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.004] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.004] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.004] [WEBSOCKET_SENT] Successfully sent chunk 70
[17:18:57.035] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.036] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.036] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.036] [WEBSOCKET_SENT] Successfully sent chunk 71
[17:18:57.067] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.068] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.068] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.069] [WEBSOCKET_SENT] Successfully sent chunk 72
[17:18:57.099] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.099] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.100] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.100] [WEBSOCKET_SENT] Successfully sent chunk 73
[17:18:57.131] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.132] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.133] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.133] [WEBSOCKET_SENT] Successfully sent chunk 74
[17:18:57.163] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.163] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.164] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.164] [WEBSOCKET_SENT] Successfully sent chunk 75
[17:18:57.195] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.196] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.196] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.196] [WEBSOCKET_SENT] Successfully sent chunk 76
[17:18:57.227] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.227] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.228] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.228] [WEBSOCKET_SENT] Successfully sent chunk 77
[17:18:57.259] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.260] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.260] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.260] [WEBSOCKET_SENT] Successfully sent chunk 78
[17:18:57.291] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.292] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.292] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.293] [WEBSOCKET_SENT] Successfully sent chunk 79
[17:18:57.293] [QUEUE_STATE] Queue has 0 items
[17:18:57.323] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.323] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.324] [SERIALIZE_RESULT] Serialization complete
    Data: {'success': True, 'input_size': 1024, 'output_size': 1061, 'overhead_bytes': 37, 'time_ms': '0.00', 'compression_ratio': '1.04'}
[17:18:57.324] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.325] [WEBSOCKET_SENT] Successfully sent chunk 80
[17:18:57.355] [FRAME_CREATE] Creating OutputAudioRawFrame
    Data: {'audio_size': 1024, 'sample_rate': 16000, 'channels': 1}
[17:18:57.356] [SERIALIZE_START] Starting serialization of OutputAudioRawFrame
[17:18:57.356] [INPUT] Enter pressed by user
[17:18:57.357] [WEBSOCKET_SEND] Sending 1061 bytes via WebSocket
[17:18:57.357] [USER] Stop requested
[17:18:57.357] [WEBSOCKET_SENT] Successfully sent chunk 81
[17:18:57.357] [SEND] Ended send_audio task
    Data: {'total_chunks': 82, 'total_bytes': 83968}
[17:18:57.358] [RECEIVE] Started receive_responses task
[17:18:57.358] [FLOW] RECEIVE TASK: Waiting for server messages...
[17:18:57.358] [WEBSOCKET_RECV] Waiting for message #1
[17:18:57.358] [WEBSOCKET] Received message #1
    Data: {'type': 'text', 'size': 51}
[17:18:57.358] [TEXT_MESSAGE] Received text message: Error: 'dict' object has no attribute 'sample_rate'
[17:18:57.359] [WEBSOCKET_RECV] Waiting for message #2
[17:18:57.359] [SHUTDOWN] Beginning shutdown sequence
[17:18:57.359] [AUDIO_STOP] Stopping audio input stream
[17:18:57.475] [AUDIO] Input stream closed
[17:18:57.476] [WAIT] Waiting 3 seconds for final responses
[17:19:00.478] [PLAYBACK_STOP] Setting stop flag for playback thread
[17:19:00.479] [TASKS_CANCEL] Cancelling async tasks
[17:19:00.480] [TASKS_CANCELLED] All tasks cancelled
[17:19:00.480] [COMPLETE] Session ended successfully
[17:19:10.482] [CLEANUP] Starting final cleanup
[17:19:10.483] [CLEANUP] Audio terminated
